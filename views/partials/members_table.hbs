<style>
    .tabs {
  display:flex;
  gap:6px;
  margin-bottom:10px;
  flex-wrap:wrap;
}

.tab-btn {
  padding:6px 12px;
  border-radius:6px;
  border:1px solid #ccc;
  background:#f5f5f5;
  cursor:pointer;
}

.tab-btn.active {
  background:#0b6fb7;
  color:#fff;
}

.tab-content {
  display:none;
}

.tab-content.active {
  display:block;
}

.member-table {
  width:100%;
  border-collapse:collapse;
}

.member-table th,
.member-table td {
  border:1px solid #e5e5e5;
  padding:8px;
}

</style>



<table class="member-table">
 <thead>
  <tr>
    <th>Name</th>

    {{#if isSchool}}
      <th>ID</th>
      <th>Grade</th>
    {{/if}}

    <th>Email</th>
    <th>Role</th>
    <th>Password</th>   {{!-- ðŸ‘ˆ ADD THIS --}}
  </tr>
</thead>


  <tbody>
    {{#each rows}}
      <tr class="member-row">
        <td>{{user.firstName}} {{user.lastName}}</td>

        {{#if ../isSchool}}
 <td>
  {{#if (eq role "student")}}
    {{user.studentId}}
  {{else if (eq role "teacher")}}
    {{user.teacherId}}
  {{else if (or (eq role "admin") (eq role "manager"))}}
    {{user.adminId}}
  {{else}}
    -
  {{/if}}
</td>


  <td>
    {{#if (eq role "student")}}
      {{user.grade}}
    {{else}}
      -
    {{/if}}
  </td>
{{/if}}


        <td>{{user.email}}</td>
        <td>{{role}}</td>
        <td>
  {{#if (or
  (eq role "student")
  (eq role "teacher")
  (eq role "admin")
  (eq role "manager")
)}}

    <form
      class="inline-form set-password-form"
      data-user-id="{{user._id}}"
      data-role="{{role}}"
    >
      <input
        type="password"
        name="password"
        placeholder="New password"
        required
        minlength="4"
        style="width:110px"
      />
      <button type="submit">Set</button>
    </form>
  {{else}}
    <span class="muted">-</span>
  {{/if}}
</td>
      </tr>
    {{/each}}
  </tbody>
</table>


<script>
  const tabs = document.querySelectorAll(".tab-btn");
  const contents = document.querySelectorAll(".tab-content");

  tabs.forEach(btn => {
    btn.addEventListener("click", () => {
      tabs.forEach(b => b.classList.remove("active"));
      contents.forEach(c => c.classList.remove("active"));

      btn.classList.add("active");
      document.getElementById(btn.dataset.tab).classList.add("active");
    });
  });

  document.getElementById("memberSearch").addEventListener("input", e => {
    const q = e.target.value.toLowerCase();
    document.querySelectorAll(".member-row").forEach(row => {
      row.style.display = row.textContent.toLowerCase().includes(q)
        ? ""
        : "none";
    });
  });
</script>
